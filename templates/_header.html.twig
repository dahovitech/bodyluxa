<!-- Navigation -->
<nav class="navbar navbar-expand-lg fixed-top" id="mainNavbar">
    <div class="container">
        <!-- Brand -->
        <a class="navbar-brand d-flex align-items-center" href="{{ path('home') }}">
            <i class="fas fa-gem me-2 text-gradient"></i>
            <span class="font-playfair fw-bold">BodyLuxa</span>
        </a>

        <!-- Mobile Toggle -->
        <button class="navbar-toggler border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
            <span class="navbar-toggler-icon"></span>
        </button>

        <!-- Navigation Links -->
        <div class="collapse navbar-collapse" id="navbarNav">
            <ul class="navbar-nav mx-auto">
                <li class="nav-item">
                    <a class="nav-link {{ app.request.get('_route') == 'home' ? 'active' : '' }}" href="{{ path('home') }}">
                        {{ 'nav_home'|trans }}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {{ app.request.get('_route') == 'services' ? 'active' : '' }}" href="{{ path('services') }}">
                        {{ 'nav_services'|trans }}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {{ app.request.get('_route') == 'about' ? 'active' : '' }}" href="{{ path('about') }}">
                        {{ 'nav_about'|trans }}
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {{ app.request.get('_route') == 'contact' ? 'active' : '' }}" href="{{ path('contact') }}">
                        {{ 'nav_contact'|trans }}
                    </a>
                </li>
            </ul>

            <!-- Language Switcher & CTA -->
            <div class="d-flex align-items-center">
                <!-- Language Dropdown -->
                <div class="dropdown me-3">
                    <button class="btn btn-outline-light btn-sm dropdown-toggle" type="button" data-bs-toggle="dropdown">
                        <i class="fas fa-globe me-1"></i>
                        {{ app.request.locale|upper }}
                    </button>
                    <ul class="dropdown-menu">
                        <li><a class="dropdown-item" href="?_locale=en">ðŸ‡ºðŸ‡¸ English</a></li>
                        <li><a class="dropdown-item" href="?_locale=fr">ðŸ‡«ðŸ‡· FranÃ§ais</a></li>
                        <li><a class="dropdown-item" href="?_locale=tr">ðŸ‡¹ðŸ‡· TÃ¼rkÃ§e</a></li>
                        <li><a class="dropdown-item" href="?_locale=de">ðŸ‡©ðŸ‡ª Deutsch</a></li>
                        <li><a class="dropdown-item" href="?_locale=es">ðŸ‡ªðŸ‡¸ EspaÃ±ol</a></li>
                    </ul>
                </div>

                <!-- CTA Button -->
                <a href="#contact" class="btn btn-gradient btn-sm">
                    <i class="fas fa-calendar-check me-1"></i>
                    {{ 'get_consultation'|trans }}
                </a>
            </div>
        </div>
    </div>
</nav>

<!-- Flash Messages -->
<div class="flash-messages" style="margin-top: 80px;">
    {% for type, messages in app.flashes %}
        {% for message in messages %}
            <div class="alert alert-{{ type == 'error' ? 'danger' : type }} alert-dismissible fade show mx-3" role="alert">
                <i class="fas fa-{% if type == 'success' %}check-circle{% elseif type == 'error' or type == 'danger' %}exclamation-triangle{% else %}info-circle{% endif %} me-2"></i>
                {{ message }}
                <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
            </div>
        {% endfor %}
    {% endfor %}
</div>